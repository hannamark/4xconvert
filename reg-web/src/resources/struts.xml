<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE struts PUBLIC 
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
 <constant name="struts.devMode" value="true" />
    <package name="default" extends="struts-default">
        <interceptors>
            <interceptor name="nci-commonsParams" class="com.fiveamsolutions.nci.commons.web.struts2.interceptor.DisplayTagParametersInterceptor" />
            <interceptor name="fileUpload" class="org.apache.struts2.interceptor.FileUploadInterceptor"/>            
        </interceptors>
        <global-results>
             <result name="applicationError">/WEB-INF/jsp/registryError.jsp</result>
        </global-results>     
        <action name="logout" class="gov.nih.nci.registry.action.Logout" method="logout">
            <result>/index.jsp</result>
        </action>
        <action name="registerUser*" class="gov.nih.nci.registry.action.RegisterUserAction" method="{1}">
            <result>/WEB-INF/jsp/registerUser.jsp</result>
            <result name="myAccount">/WEB-INF/jsp/myAccount.jsp</result>
            <result name="confirmation">/WEB-INF/jsp/emailConfirmation.jsp</result>
            <result name="registerUserError">/WEB-INF/jsp/registerUser.jsp</result>
            <result name="myAccountError">/WEB-INF/jsp/myAccount.jsp</result>
        </action> 
        <action name="login">
	       <result>/WEB-INF/jsp/login.jsp</result>
        </action>
	   <action name="home">
	       <result>/WEB-INF/jsp/registryHome.jsp</result>
        </action> 
    </package>
    <package name="protected" namespace="/protected" extends="default">
        <action name="searchTrial*" class="gov.nih.nci.registry.action.SearchTrialAction" method="{1}">
            <interceptor-ref name="nci-commonsParams" />
            <result>/WEB-INF/jsp/searchTrialCriteria.jsp</result>
            <result name="view">/WEB-INF/jsp/searchTrialView.jsp</result>
            <result name="error">/WEB-INF/jsp/searchTrialCriteria.jsp</result>
        </action>
        <action name="submitTrial*" class="gov.nih.nci.registry.action.SubmitTrialAction" method="{1}">
            <interceptor-ref name="fileUpload"/>
            <interceptor-ref name="nci-commonsParams" />
            <result>/WEB-INF/jsp/submitTrial.jsp</result>
            <result name="error">/WEB-INF/jsp/submitTrial.jsp</result>
            <result name="view">/WEB-INF/jsp/viewTrial.jsp</result>
        </action> 
    </package>
</struts>