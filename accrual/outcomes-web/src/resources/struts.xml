<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE struts PUBLIC 
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
 <constant name="struts.devMode" value="true" />
    <package name="default" extends="struts-default">
        <interceptors>
            <interceptor name="parameterTrim" 
               class="com.fiveamsolutions.nci.commons.web.struts2.interceptor.ParameterTrimInterceptor" />
            <interceptor name="maliciousInput"
               class="com.fiveamsolutions.nci.commons.web.struts2.interceptor.XSSFilterInterceptor" />
            <interceptor-stack name="methodValidationStack">
                <interceptor-ref name="exception" />
                <interceptor-ref name="alias" />
                <interceptor-ref name="servletConfig" />
                <interceptor-ref name="prepare"/>
                <interceptor-ref name="i18n" />
                <interceptor-ref name="chain" />
                <interceptor-ref name="fileUpload"/>
                <interceptor-ref name="conversionError" />
                <interceptor-ref name="params">
                <!--
                  Excludes the jQuery no-cache _ parameter and the Displaytag d-#-X parameter(s)
                -->
                <param name="excludeParams">
                 _,d-\d+?-[sop]
                </param>
                </interceptor-ref>
                <interceptor-ref name="maliciousInput"/>
                <interceptor-ref name="validation">
                    <param name="excludeMethods">input,back,cancel</param>
                </interceptor-ref>
                <interceptor-ref name="workflow">
                    <param name="excludeMethods">input,back,cancel</param>
                </interceptor-ref>
                <interceptor-ref name="parameterTrim">
                    <param name="trimToNull">true</param>
                    <param name="trimFromFront">true</param>
                </interceptor-ref>
              </interceptor-stack>
        </interceptors>

        <global-results>
            <result name="error">error.jsp</result>
            <result name="logout" type="redirectAction">
                <param name="namespace">/</param>
                <param name="actionName">logout</param>
            </result>
        </global-results> 
        <action name="login">
           <result>/WEB-INF/jsp/login.jsp</result>
        </action>
        <action name="logout" class="gov.nih.nci.accrual.outweb.action.LogoutAction" method="logout">
            <result>/index.jsp</result>
        </action>
        <action name="home">
            <result>/WEB-INF/jsp/accrualHome.jsp</result>
        </action>
         <action name="contact">
           <result>/WEB-INF/jsp/accrualContact.jsp</result>
        </action>
        
        <action name="userAccount*" class="gov.nih.nci.accrual.outweb.action.UserAccountAction" method="{1}">
            <result>/WEB-INF/jsp/userAccountrequest.jsp</result>
            <result name="input">/WEB-INF/jsp/userAccount{1}.jsp</result>
            <result name="requestConfirmation">/WEB-INF/jsp/userAccountrequestConfirmation.jsp</result>
            <result name="initTreatmentSiteLookup">/WEB-INF/jsp/nodecorate/lookupTreatmentSite.jsp</result>
            <result name="initPhysicianLookup">/WEB-INF/jsp/nodecorate/lookupPhysician.jsp</result>
            <result name="create">/WEB-INF/jsp/userAccountcreate.jsp</result>
            <result name="redirectToLogin" type="redirectAction">
                <param name="actionName">welcome.action</param>
                <param name="namespace">/common</param>
                <param name="parse">true</param>
                <param name="userAction">${userAction}</param>
            </result>
        </action>
        <action name="lookup*" class="gov.nih.nci.accrual.outweb.action.UserAccountAction" method="lookup{1}">
            <result>/WEB-INF/jsp/nodecorate/lookup{1}.jsp</result>
        </action>
    </package>

    <package name="common" namespace="/common" extends="default">
        <action name="welcome" class="gov.nih.nci.accrual.outweb.action.WelcomeAction">
            <result name="outcomesNamespace" type="redirectAction">
                <param name="namespace">../outcomes</param>
                <param name="actionName">executeParticipants</param>
            </result>
        </action>
    </package>

    <package name="outcomes" namespace="/outcomes" extends="default">            
        <action name="execute*" class="gov.nih.nci.accrual.outweb.action.{1}Action">
            <result>/WEB-INF/jsp/{1}.jsp</result>
            <result name="input">/WEB-INF/jsp/{1}Detail.jsp</result>
        </action>
    
        <!-- ******************************************************* -->
        <!--  the following apply to ListEdit pattern -->
        <!-- ******************************************************* -->
        <action name="create*" class="gov.nih.nci.accrual.outweb.action.{1}Action" method="create"> 
            <result name="detail">/WEB-INF/jsp/{1}Detail.jsp</result>
        </action>
        <action name="retrieve*" class="gov.nih.nci.accrual.outweb.action.{1}Action" method="retrieve"> 
        	<result>/WEB-INF/jsp/{1}.jsp</result>
            <result name="detail">/WEB-INF/jsp/{1}Detail.jsp</result>
        </action>
        <action name="update*" class="gov.nih.nci.accrual.outweb.action.{1}Action" method="update"> 
            <result name="detail">/WEB-INF/jsp/{1}Detail.jsp</result>
        </action>
        <action name="delete*" class="gov.nih.nci.accrual.outweb.action.{1}Action" method="delete"> 
            <result>/WEB-INF/jsp/{1}.jsp</result>
        </action>
        <action name="add*" class="gov.nih.nci.accrual.outweb.action.{1}Action" method="add"> 
            <result>/WEB-INF/jsp/{1}.jsp</result>
            <result name="input">/WEB-INF/jsp/{1}Detail.jsp</result>
        </action>
        <action name="edit*" class="gov.nih.nci.accrual.outweb.action.{1}Action" method="edit"> 
            <result>/WEB-INF/jsp/{1}.jsp</result>
            <result name="input">/WEB-INF/jsp/{1}Detail.jsp</result>
        </action>
        <!-- ******************************************************* -->
        <action name="saveTumorMarker" class="gov.nih.nci.accrual.outweb.action.TumorMarkerAction" method="save"> 
            <result>/WEB-INF/jsp/TumorMarker.jsp</result>
            <result name="input">/WEB-INF/jsp/TumorMarker.jsp</result>
            <result name="main">executeStaging.action</result>
        </action>
        <!-- ******************************************************* -->
        <!--  this applies to the Edit pattern -->
        <!-- ******************************************************* -->
        <action name="save*" class="gov.nih.nci.accrual.outweb.action.{1}Action" method="save">
            <result>/WEB-INF/jsp/{1}.jsp</result>
            <result name="input">/WEB-INF/jsp/{1}.jsp</result>
        </action>
        <!-- ******************************************************* -->
    
        <action name="cancel*" class="gov.nih.nci.accrual.outweb.action.{1}Action" method="cancel">
            <result>/WEB-INF/jsp/{1}.jsp</result>
        </action>

        <action name="lookup*" class="gov.nih.nci.accrual.outweb.action.{1}Action" method="lookup">
            <result>/WEB-INF/jsp/nodecorate/lookup{1}.jsp</result>
            <result name="input">/WEB-INF/jsp/nodecorate/lookup{1}.jsp</result>
        </action>
        
         <action name="lookUp*" class="gov.nih.nci.accrual.outweb.action.LookUpAction" method="{1}">
            <result>/WEB-INF/jsp/nodecorate/lookupForFields.jsp</result>
            <result name="input">/WEB-INF/jsp/nodecorate/lookupForFields.jsp</result>
        </action>
        
        <action name="popupIntervention*" class="gov.nih.nci.accrual.outweb.action.PopUpInterventionAction" method="{1}">
            <result>/WEB-INF/jsp/nodecorate/lookupinterventions{1}.jsp</result>
        </action>        
    	
        <action name="popup*" class="gov.nih.nci.accrual.outweb.action.PopUpAction" method="{1}">
            <result>/WEB-INF/jsp/nodecorate/lookupdiseases{1}.jsp</result>
        </action>
        
         
        
    </package>
</struts>