package gov.nih.nci.coppa.services.structuralroles.oversightcommittee.service;

import gov.nih.nci.coppa.iso.Ii;
import gov.nih.nci.coppa.po.OversightCommittee;
import gov.nih.nci.coppa.po.grid.dto.transform.IITransformer;
import gov.nih.nci.coppa.po.grid.dto.transform.po.OversightCommitteeTransformer;
import gov.nih.nci.coppa.po.grid.dto.transform.po.faults.FaultUtil;
import gov.nih.nci.coppa.po.grid.remote.InvokeOversightCommitteeEjb;
import gov.nih.nci.coppa.services.structuralroles.identifiedorganization.service.IdentifiedOrganizationImpl;
import gov.nih.nci.services.correlation.OversightCommitteeDTO;

import java.rmi.RemoteException;
import java.util.List;

import org.apache.log4j.LogManager;

/** 
 * TODO:I am the service side implementation class.  IMPLEMENT AND DOCUMENT ME
 * 
 * @created by Introduce Toolkit version 1.2
 * 
 */
public class OversightCommitteeImpl extends OversightCommitteeImplBase {

private static org.apache.log4j.Logger logger = LogManager.getLogger(IdentifiedOrganizationImpl.class);
	
	private InvokeOversightCommitteeEjb oversightCommitteeService = new InvokeOversightCommitteeEjb();
	
	public OversightCommitteeImpl() throws RemoteException {
		super();
	}
	
  public gov.nih.nci.coppa.po.Id create(gov.nih.nci.coppa.po.OversightCommittee oversightCommittee) throws RemoteException, gov.nih.nci.coppa.po.faults.EntityValidationFault {
    //TODO: Implement this autogenerated method
    throw new RemoteException("Not yet implemented");
  }

  public gov.nih.nci.coppa.po.OversightCommittee getById(gov.nih.nci.coppa.po.Id id) throws RemoteException, gov.nih.nci.coppa.po.faults.NullifiedRoleFault {
	  try {
			Ii ii_iso = IITransformer.INSTANCE.toDto(id);
			OversightCommitteeDTO oc_dto = oversightCommitteeService.getOversightCommittee(ii_iso);
			OversightCommittee oc= OversightCommitteeTransformer.INSTANCE.toXml(oc_dto);
			return oc;
		} catch (Exception e) {
			logger.error("Error in getting OversightCommittee.", e);
			throw FaultUtil.reThrowRemote(e);
		}
  }

  public gov.nih.nci.coppa.po.OversightCommittee[] getByIds(gov.nih.nci.coppa.po.Id[] id) throws RemoteException, gov.nih.nci.coppa.po.faults.NullifiedRoleFault {
    //TODO: Implement this autogenerated method
    throw new RemoteException("Not yet implemented");
  }

  public gov.nih.nci.coppa.po.OversightCommittee[] search(gov.nih.nci.coppa.po.OversightCommittee oversightCommittee) throws RemoteException {
	  try {
		    OversightCommitteeDTO ic_iso = OversightCommitteeTransformer.INSTANCE.toDto(oversightCommittee);
			List<OversightCommitteeDTO> results = oversightCommitteeService.search(ic_iso);
			 if (results == null) {
	              return null;
	          }
	          logger.debug("OversightCommittee searched from COPPA:" + results.size());
	          gov.nih.nci.coppa.po.OversightCommittee [] returnResults = new gov.nih.nci.coppa.po.OversightCommittee[results.size()];
	          int i = 0;
	          for (OversightCommitteeDTO oc_res : results) {
	              gov.nih.nci.coppa.po.OversightCommittee oc_res_tr = OversightCommitteeTransformer.INSTANCE.toXml(oc_res);
	              returnResults[i++] = oc_res_tr;
	          }
	          return returnResults;		
	    } catch (Exception e) {
			logger.error("Error in getting OversightCommittee.", e);
			throw FaultUtil.reThrowRemote(e);
		}
  }

  public void update(gov.nih.nci.coppa.po.OversightCommittee oversightCommittee) throws RemoteException, gov.nih.nci.coppa.po.faults.EntityValidationFault {
    //TODO: Implement this autogenerated method
    throw new RemoteException("Not yet implemented");
  }

  public void updateStatus(gov.nih.nci.coppa.po.Id targetId,gov.nih.nci.coppa.po.Cd statusCode) throws RemoteException, gov.nih.nci.coppa.po.faults.EntityValidationFault {
    //TODO: Implement this autogenerated method
    throw new RemoteException("Not yet implemented");
  }

  public gov.nih.nci.coppa.po.StringMap validate(gov.nih.nci.coppa.po.OversightCommittee oversightCommittee) throws RemoteException {
    //TODO: Implement this autogenerated method
    throw new RemoteException("Not yet implemented");
  }
}

