package gov.nih.nci.coppa.services.structuralroles.researchorganization.service;

import gov.nih.nci.coppa.iso.Ii;
import gov.nih.nci.coppa.po.ResearchOrganization;
import gov.nih.nci.coppa.po.grid.dto.transform.IITransformer;
import gov.nih.nci.coppa.po.grid.dto.transform.po.ResearchOrganizationTransformer;
import gov.nih.nci.coppa.po.grid.dto.transform.po.faults.FaultUtil;
import gov.nih.nci.coppa.po.grid.remote.InvokeResearchOrganizationEjb;
import gov.nih.nci.services.correlation.ResearchOrganizationDTO;

import java.rmi.RemoteException;
import java.util.List;

import org.apache.log4j.LogManager;

/**
 * TODO:I am the service side implementation class.  IMPLEMENT AND DOCUMENT ME
 *
 * @created by Introduce Toolkit version 1.2
 *
 */
public class ResearchOrganizationImpl extends ResearchOrganizationImplBase {

private static org.apache.log4j.Logger logger = LogManager.getLogger(ResearchOrganizationImpl.class);

    private InvokeResearchOrganizationEjb researchOrganizationService = new InvokeResearchOrganizationEjb();

    public ResearchOrganizationImpl() throws RemoteException {
        super();
    }

  public gov.nih.nci.coppa.po.Id create(gov.nih.nci.coppa.po.ResearchOrganization researchOrganization) throws RemoteException, gov.nih.nci.coppa.po.faults.EntityValidationFault {
    //TODO: Implement this autogenerated method
    throw new RemoteException("Not yet implemented");
  }

  public gov.nih.nci.coppa.po.ResearchOrganization getById(gov.nih.nci.coppa.po.Id id) throws RemoteException, gov.nih.nci.coppa.po.faults.NullifiedRoleFault {
      try {
            Ii ii_iso = IITransformer.INSTANCE.toDto(id);
            ResearchOrganizationDTO idOrg_dto = researchOrganizationService.getResearchOrganization(ii_iso);
            ResearchOrganization idOrg = ResearchOrganizationTransformer.INSTANCE.toXml(idOrg_dto);
            return idOrg;
        } catch (Exception e) {
            logger.error("Error in getting ResearchOrganization.", e);
            throw FaultUtil.reThrowRemote(e);
        }
  }

  public gov.nih.nci.coppa.po.ResearchOrganization[] getByIds(gov.nih.nci.coppa.po.Id[] id) throws RemoteException, gov.nih.nci.coppa.po.faults.NullifiedRoleFault {
    //TODO: Implement this autogenerated method
    throw new RemoteException("Not yet implemented");
  }

  public gov.nih.nci.coppa.po.ResearchOrganization[] search(gov.nih.nci.coppa.po.ResearchOrganization researchOrganization) throws RemoteException {
      try {
          ResearchOrganizationDTO idOrg_iso = ResearchOrganizationTransformer.INSTANCE.toDto(researchOrganization);
          List<ResearchOrganizationDTO> results = researchOrganizationService.search(idOrg_iso);
          if (results == null) {
              return null;
          }
          logger.debug("ResearchOrganization searched from COPPA:" + results.size());
          gov.nih.nci.coppa.po.ResearchOrganization [] returnResults = new gov.nih.nci.coppa.po.ResearchOrganization[results.size()];
          int i = 0;
          for (ResearchOrganizationDTO idOrg_res : results) {
              gov.nih.nci.coppa.po.ResearchOrganization idOrg_res_tr = ResearchOrganizationTransformer.INSTANCE.toXml(idOrg_res);
              returnResults[i++] = idOrg_res_tr;
          }
          return returnResults;
      } catch (Exception e) {
          logger.error("Error in searching ResearchOrganizationn.", e);
          throw FaultUtil.reThrowRemote(e);
      }
  }

  public gov.nih.nci.coppa.po.StringMap validate(gov.nih.nci.coppa.po.ResearchOrganization researchOrganization) throws RemoteException {
    //TODO: Implement this autogenerated method
    throw new RemoteException("Not yet implemented");
  }

  public void update(gov.nih.nci.coppa.po.ResearchOrganization researchOrganization) throws RemoteException, gov.nih.nci.coppa.po.faults.EntityValidationFault {
    //TODO: Implement this autogenerated method
    throw new RemoteException("Not yet implemented");
  }

  public void updateStatus(gov.nih.nci.coppa.po.Id targetId,gov.nih.nci.coppa.po.Cd statusCode) throws RemoteException, gov.nih.nci.coppa.po.faults.EntityValidationFault {
    //TODO: Implement this autogenerated method
    throw new RemoteException("Not yet implemented");
  }

}

